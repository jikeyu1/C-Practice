# Executor组件 - 需求2实现

## 项目结构
```
需求2-支持加速功能/
├── executor.h          # Executor类头文件，定义接口
├── executor.cpp        # Executor类实现文件
├── test_executor.cpp   # 单元测试用例
├── CMakeLists.txt      # CMake构建脚本
└── README.md           # 项目说明文档
```

## 功能实现

Executor组件在需求1的基础上，增加了加速功能，包括：

1. **初始化功能**：设置车的位置(x, y)和朝向(heading)
2. **移动指令**：
   - M：前进1格（正常状态）或2格（加速状态）
   - L：左转90度（正常状态）或先前进1格再左转90度（加速状态）
   - R：右转90度（正常状态）或先前进1格再右转90度（加速状态）
   - F：切换加速状态（加速 ↔ 正常）
3. **批量指令执行**：支持连续执行多个指令
4. **状态查询**：获取车当前的位置和朝向

## 加速功能说明

- **加速状态切换**：执行F指令可以切换加速状态
- **加速状态下的行为**：
  - M指令：前进2格（连续执行两次前进1格）
  - L指令：先前进1格，然后左转90度
  - R指令：先前进1格，然后右转90度
- **正常状态下的行为**：与需求1保持一致
- **多次切换**：连续执行F指令可以多次切换加速状态

## 构建和运行测试

### 使用CMake构建

1. 创建构建目录：
   ```bash
   mkdir build
   cd build
   ```

2. 运行CMake生成构建文件：
   ```bash
   cmake ..
   ```

3. 编译项目：
   ```bash
   make
   ```

4. 运行测试：
   ```bash
   ./test_executor
   ```

### 使用g++直接编译

```bash
g++ -std=c++11 -o test_executor test_executor.cpp executor.cpp -lgtest -lpthread
./test_executor
```

## 测试用例

测试用例覆盖了以下场景：

1. 默认构造函数
2. 初始化功能
3. 前进指令（四个方向）
4. 左转指令（连续左转）
5. 右转指令（连续右转）
6. 批量指令执行
7. 复杂批量指令执行

## 设计说明

1. **接口设计**：提供了简洁明了的对外接口，便于使用
2. **封装性**：将内部实现细节隐藏，只暴露必要的接口
3. **可扩展性**：便于后续添加更多功能，如加速、倒车、掉头等
4. **测试驱动开发**：先设计测试用例，再实现功能，确保代码质量
